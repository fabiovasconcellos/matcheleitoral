<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Match Eleitoral | Descubra seu deputado</title>

    <!-- Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;800&family=Lora:ital,wght@0,400;0,500;1,400&display=swap"
        rel="stylesheet">

    <!-- Open Graph / Social Media -->
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Match Eleitoral">
    <meta property="og:title" content="Match Eleitoral | Descubra seu deputado">
    <meta property="og:description"
        content="Compare seus votos com os deputados federais e descubra quem te representa. Uma iniciativa do INCT ReDem/UFPR.">
    <meta property="og:image" content="https://fabiovasconcellos.github.io/matcheleitoral/og-image.png">
    <meta property="og:image:type" content="image/png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:url" content="https://fabiovasconcellos.github.io/matcheleitoral/">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Match Eleitoral | Descubra seu deputado">
    <meta name="twitter:description"
        content="Compare seus votos com os deputados federais e descubra quem te representa.">
    <meta name="twitter:image" content="https://fabiovasconcellos.github.io/matcheleitoral/og-image.png">

    <!-- Additional Meta Tags -->
    <meta name="description"
        content="Compare seus votos com os deputados federais e descubra quem te representa. Uma iniciativa do INCT ReDem/UFPR.">
    <meta name="keywords"
        content="pol√≠tica, deputados, elei√ß√µes, brasil, match eleitoral, c√¢mara dos deputados, vota√ß√£o">
    <meta name="author" content="F√°bio Vasconcellos - INCT ReDem UFPR">

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <link rel="stylesheet" href="style.css?v=7">
</head>

<body>

    <header id="app-header">
        <div id="brand-name" style="font-weight: 800; letter-spacing: -1px;">MATCH ELEITORAL</div>
        <div id="author-note">Concep√ß√£o e desenvolvimento F√°bio Vasconcellos | <a href="https://redem.tec.br/"
                target="_blank">INCT ReDem UFPR</a></div>
    </header>

    <main>
        <!-- SCREEN 1: LANDING -->
        <section id="landing-screen" class="screen active">
            <h1>QUEM √â SEU MATCH NA C√ÇMARA DOS DEPUTADOS?</h1>
            <p style="margin-bottom: 2rem; color: var(--text-muted);">Compare os seus votos com os votos dos deputados
                em temas relevantes do Brasil entre 2023 e 2026.</p>
            <button id="start-btn" class="btn-primary">INICIAR MATCH</button>

            <div class="social-footer">
                <a href="#" onclick="shareSocial('whatsapp'); return false;"><i class="fab fa-whatsapp"></i></a>
                <a href="#" onclick="shareSocial('twitter'); return false;"><i class="fab fa-x-twitter"></i></a>
                <a href="#" onclick="shareSocial('linkedin'); return false;"><i class="fab fa-linkedin"></i></a>
                <a href="#" onclick="shareSocial('bluesky'); return false;" title="Bluesky">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"
                        xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M12 10.8c-1.087-2.114-4.046-6.053-6.798-7.995C2.566.944 1.561 1.266.902 1.565.139 1.908 0 3.08 0 3.768c0 .69.378 5.65.624 6.479.815 2.736 3.713 3.66 6.383 3.364.136-.02.275-.039.415-.056-.138.022-.276.04-.415.056-3.912.58-7.387 2.005-2.83 7.078 5.013 5.19 6.87-1.113 7.823-4.308.953 3.195 2.05 9.271 7.733 4.308 4.267-4.308 1.172-6.498-2.74-7.078a8.741 8.741 0 0 1-.415-.056c.14.017.279.036.415.056 2.67.297 5.568-.628 6.383-3.364.246-.828.624-5.79.624-6.478 0-.69-.139-1.861-.902-2.206-.659-.298-1.664-.62-4.3 1.24C16.046 4.748 13.087 8.687 12 10.8Z" />
                    </svg>
                </a>
                <a href="#" onclick="copyLink(); return false;" title="Copiar Link"><i class="fas fa-link"></i></a>
            </div>
        </section>

        <!-- SCREEN 2: UF SELECTION -->
        <section id="uf-screen" class="screen">
            <h2 style="margin-bottom: 1.5rem;">De qual estado voc√™ √©?</h2>
            <div style="width: 100%; max-width: 300px; display:flex; flex-direction:column; gap:1.5rem;">
                <div class="form-group">
                    <label
                        style="display:block; margin-bottom:0.5rem; font-size:0.9rem; color:var(--text-muted); text-align:left;">1.
                        Seu Estado</label>
                    <select id="uf-select">
                        <option value="" disabled selected>Escolha sua UF</option>
                        <option value="AC">Acre (AC)</option>
                        <option value="AL">Alagoas (AL)</option>
                        <option value="AP">Amap√° (AP)</option>
                        <option value="AM">Amazonas (AM)</option>
                        <option value="BA">Bahia (BA)</option>
                        <option value="CE">Cear√° (CE)</option>
                        <option value="DF">Distrito Federal (DF)</option>
                        <option value="ES">Esp√≠rito Santo (ES)</option>
                        <option value="GO">Goi√°s (GO)</option>
                        <option value="MA">Maranh√£o (MA)</option>
                        <option value="MT">Mato Grosso (MT)</option>
                        <option value="MS">Mato Grosso do Sul (MS)</option>
                        <option value="MG">Minas Gerais (MG)</option>
                        <option value="PA">Par√° (PA)</option>
                        <option value="PB">Para√≠ba (PB)</option>
                        <option value="PR">Paran√° (PR)</option>
                        <option value="PE">Pernambuco (PE)</option>
                        <option value="PI">Piau√≠ (PI)</option>
                        <option value="RJ">Rio de Janeiro (RJ)</option>
                        <option value="RN">Rio Grande do Norte (RN)</option>
                        <option value="RS">Rio Grande do Sul (RS)</option>
                        <option value="RO">Rond√¥nia (RO)</option>
                        <option value="RR">Roraima (RR)</option>
                        <option value="SC">Santa Catarina (SC)</option>
                        <option value="SP">S√£o Paulo (SP)</option>
                        <option value="SE">Sergipe (SE)</option>
                        <option value="TO">Tocantins (TO)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label
                        style="display:block; margin-bottom:0.5rem; font-size:0.9rem; color:var(--text-muted); text-align:left;">2.
                        Espectro Pol√≠tico (1 a 7)</label>

                    <div class="scale-group" style="padding-bottom: 1.5rem;">
                        <!-- Gerado manualmente 1 a 7 -->
                        <div class="scale-item">
                            <input type="radio" name="ideologia" id="ideo-1" value="1"><label for="ideo-1">1</label>
                            <span
                                style="position:absolute; top:110%; left:50%; transform:translateX(-50%); font-size:0.6rem; color:var(--text-muted); white-space:nowrap; width:100px;">Extrema<br>Esquerda</span>
                        </div>
                        <div class="scale-item"><input type="radio" name="ideologia" id="ideo-2" value="2"><label
                                for="ideo-2">2</label></div>
                        <div class="scale-item"><input type="radio" name="ideologia" id="ideo-3" value="3"><label
                                for="ideo-3">3</label></div>
                        <div class="scale-item"><input type="radio" name="ideologia" id="ideo-4" value="4"><label
                                for="ideo-4">4</label></div>
                        <div class="scale-item"><input type="radio" name="ideologia" id="ideo-5" value="5"><label
                                for="ideo-5">5</label></div>
                        <div class="scale-item"><input type="radio" name="ideologia" id="ideo-6" value="6"><label
                                for="ideo-6">6</label></div>
                        <div class="scale-item">
                            <input type="radio" name="ideologia" id="ideo-7" value="7"><label for="ideo-7">7</label>
                            <span
                                style="position:absolute; top:110%; left:50%; transform:translateX(-50%); font-size:0.6rem; color:var(--text-muted); white-space:nowrap; width:100px;">Extrema<br>Direita</span>
                        </div>
                    </div>

                    <div style="text-align:center; font-weight:bold; margin-top:0.2rem; color:var(--accent-color); min-height:1.2rem;"
                        id="ideologia-display"></div>
                </div>

                <div class="form-group">
                    <label
                        style="display:block; margin-bottom:0.5rem; font-size:0.9rem; color:var(--text-muted); text-align:left;">3.
                        Partido de Prefer√™ncia</label>
                    <select id="partido-select">
                        <option value="" disabled selected>Carregando partidos...</option>
                    </select>
                </div>
            </div>
            <button id="uf-confirm-btn" class="btn-primary" style="margin-top: 2rem;" disabled>COME√áAR</button>
        </section>

        <!-- SCREEN 3: VOTING -->
        <section id="voting-screen" class="screen">
            <div id="vote-stack">
                <!-- Card content will be injected by JS -->
            </div>
            <p style="margin-top: 2rem; font-size: 0.8rem; color: var(--text-muted);">
                Arraste o cart√£o, use as setas do teclado ou os bot√µes abaixo.
            </p>
            <div style="display: flex; gap: 1rem; margin-top: 1rem;">
                <button class="vote-manual-btn" data-vote="N√£o"
                    style="background:var(--danger-color); border:none; padding:1rem; border-radius:50%; width:60px; height:60px; color:white; cursor:pointer;"><i
                        class="fas fa-times"></i></button>
                <button class="vote-manual-btn" data-vote="Sim"
                    style="background:var(--success-color); border:none; padding:1rem; border-radius:50%; width:60px; height:60px; color:white; cursor:pointer;"><i
                        class="fas fa-heart"></i></button>
            </div>
        </section>

        <!-- SCREEN 4: DEMOGRAPHIC SURVEY -->
        <section id="demographic-screen" class="screen">
            <h2 style="margin-bottom: 0.5rem;">Legal! üòä</h2>
            <p
                style="font-size: 0.9rem; color: var(--text-muted); margin-bottom: 0.5rem; max-width: 500px; margin-left: auto; margin-right: auto;">
                J√° temos a lista dos seus matchs. Antes de te apresentar, voc√™ poderia contribuir com o INCT/ReDem com
                mais essas perguntas?
            </p>
            <p
                style="font-size: 0.75rem; color: var(--text-muted); margin-bottom: 1rem; max-width: 500px; margin-left: auto; margin-right: auto;">
                Usamos esses dados para estudos acad√™micos. N√£o se preocupe. Todas as respostas deste app s√£o an√¥nimas.
            </p>

            <div style="width: 100%; max-width: 400px; display:flex; flex-direction:column; gap:1rem;">
                <div class="form-group">
                    <label
                        style="display:block; margin-bottom:0.5rem; font-size:0.9rem; color:var(--text-muted); text-align:left;">1.
                        Sexo</label>
                    <select id="sexo-input" class="survey-input">
                        <option value="" selected disabled>Selecione...</option>
                        <option value="Masculino">Masculino</option>
                        <option value="Feminino">Feminino</option>
                        <option value="Outro">Outro</option>
                    </select>
                </div>

                <div class="form-group">
                    <label
                        style="display:block; margin-bottom:0.5rem; font-size:0.9rem; color:var(--text-muted); text-align:left;">2.
                        Escolaridade</label>
                    <select id="escolaridade-input" class="survey-input">
                        <option value="" selected disabled>Selecione...</option>
                        <option value="Fundamental">Ensino Fundamental</option>
                        <option value="Medio">Ensino M√©dio</option>
                        <option value="Superior">Ensino Superior</option>
                        <option value="Pos">P√≥s-Gradua√ß√£o</option>
                    </select>
                </div>

                <div class="form-group">
                    <label
                        style="display:block; margin-bottom:0.5rem; font-size:0.9rem; color:var(--text-muted); text-align:left;">3.
                        Idade</label>
                    <select id="idade-input" class="survey-input">
                        <option value="" selected disabled>Selecione...</option>
                    </select>
                </div>

                <div class="form-group">
                    <label
                        style="display:block; margin-bottom:0.3rem; font-size:0.9rem; color:var(--text-muted); text-align:left;">4.
                        Qual nota voc√™ d√° para a C√¢mara dos Deputados? (0 a 10)</label>
                    <div class="scale-group" style="flex-wrap: wrap; padding-bottom: 0.5rem;">
                        <div class="scale-item"><input type="radio" name="nota-congresso" id="nota-0" value="0"><label
                                for="nota-0">0</label></div>
                        <div class="scale-item"><input type="radio" name="nota-congresso" id="nota-1" value="1"><label
                                for="nota-1">1</label></div>
                        <div class="scale-item"><input type="radio" name="nota-congresso" id="nota-2" value="2"><label
                                for="nota-2">2</label></div>
                        <div class="scale-item"><input type="radio" name="nota-congresso" id="nota-3" value="3"><label
                                for="nota-3">3</label></div>
                        <div class="scale-item"><input type="radio" name="nota-congresso" id="nota-4" value="4"><label
                                for="nota-4">4</label></div>
                        <div class="scale-item"><input type="radio" name="nota-congresso" id="nota-5" value="5"><label
                                for="nota-5">5</label></div>
                        <div class="scale-item"><input type="radio" name="nota-congresso" id="nota-6" value="6"><label
                                for="nota-6">6</label></div>
                        <div class="scale-item"><input type="radio" name="nota-congresso" id="nota-7" value="7"><label
                                for="nota-7">7</label></div>
                        <div class="scale-item"><input type="radio" name="nota-congresso" id="nota-8" value="8"><label
                                for="nota-8">8</label></div>
                        <div class="scale-item"><input type="radio" name="nota-congresso" id="nota-9" value="9"><label
                                for="nota-9">9</label></div>
                        <div class="scale-item"><input type="radio" name="nota-congresso" id="nota-10" value="10"><label
                                for="nota-10">10</label></div>
                    </div>
                </div>
            </div>

            <button id="view-match-btn" class="btn-primary" style="margin-top: 1rem;" disabled>Ver o meu match
                eleitoral</button>
        </section>

        <!-- SCREEN 5: RESULTS -->
        <section id="results-screen" class="screen">
            <h2 style="margin-bottom: 0.3rem;">Seu Match Eleitoral</h2>
            <p style="margin-bottom: 0.5rem; color: var(--text-muted);">Estes s√£o os deputados que pensam como voc√™.</p>
            <p
                style="font-size:0.75rem; opacity:0.7; margin-top:0.3rem; max-width:600px; margin-left:auto; margin-right:auto; margin-bottom: 1rem;">
                Metodologia: O c√°lculo de afinidade compara seus votos com os votos dos deputados nas pautas
                selecionadas. A pontua√ß√£o considera apenas votos convergentes ("Sim" com "Sim", "N√£o" com "N√£o") em
                rela√ß√£o ao total de temas votados.
            </p>

            <div id="ranking-container" class="ranking-list">
                <!-- Ranking items will be injected by JS -->
            </div>

            <div style="margin-top:1.5rem; margin-bottom:0.5rem; width:100%; text-align:center;">
                <p style="font-size: 0.9rem; color: var(--text-muted); margin-bottom: 0.8rem;">Compartilhe seu
                    resultado:</p>
                <div class="social-footer" style="justify-content: center; padding: 1rem 0;">
                    <a href="#" onclick="shareResults('whatsapp'); return false;" title="WhatsApp"><i
                            class="fab fa-whatsapp"></i></a>
                    <a href="#" onclick="shareResults('twitter'); return false;" title="X (Twitter)"><i
                            class="fab fa-x-twitter"></i></a>
                    <a href="#" onclick="shareResults('linkedin'); return false;" title="LinkedIn"><i
                            class="fab fa-linkedin"></i></a>
                    <a href="#" onclick="shareResults('bluesky'); return false;" title="Bluesky">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"
                            xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M12 10.8c-1.087-2.114-4.046-6.053-6.798-7.995C2.566.944 1.561 1.266.902 1.565.139 1.908 0 3.08 0 3.768c0 .69.378 5.65.624 6.479.815 2.736 3.713 3.66 6.383 3.364.136-.02.275-.039.415-.056-.138.022-.276.04-.415.056-3.912.58-7.387 2.005-2.83 7.078 5.013 5.19 6.87-1.113 7.823-4.308.953 3.195 2.05 9.271 7.733 4.308 4.267-4.308 1.172-6.498-2.74-7.078a8.741 8.741 0 0 1-.415-.056c.14.017.279.036.415.056 2.67.297 5.568-.628 6.383-3.364.246-.828.624-5.79.624-6.478 0-.69-.139-1.861-.902-2.206-.659-.298-1.664-.62-4.3 1.24C16.046 4.748 13.087 8.687 12 10.8Z" />
                        </svg>
                    </a>
                    <a href="#" onclick="shareResults('copy'); return false;" title="Copiar Link"><i
                            class="fas fa-link"></i></a>
                </div>
            </div>
            <p style="font-size: 0.85rem; margin-top: 0.8rem; margin-bottom: 1rem; color: var(--text-muted); cursor: pointer; font-weight: 500;"
                onclick="location.reload()">Refazer Vota√ß√£o</p>
        </section>

        <!-- MODAL: DEPUTY DETAILS -->
        <div id="dep-modal"
            style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.85); z-index:1000; padding:2rem; overflow-y:auto;">
            <div
                style="background:var(--dark-bg); border:1px solid var(--glass-border); border-radius:20px; max-width:500px; margin:auto; padding:2rem; position:relative;">
                <button onclick="document.getElementById('dep-modal').style.display='none'"
                    style="position:absolute; top:1rem; right:1rem; background:none; border:none; color:white; font-size:1.5rem; cursor:pointer;">&times;</button>
                <div id="modal-content"></div>
            </div>
        </div>
    </main>

    <!-- Hidden Share Card Template -->
    <div id="share-card"
        style="position:fixed; top:0; left:-9999px; width:1080px; height:1920px; background: linear-gradient(135deg, #0f0c29, #302b63, #24243e); color:white; font-family: 'Montserrat', sans-serif; display:flex; flex-direction:column; align-items:center; padding:150px 80px 100px 80px; box-sizing:border-box; z-index:-1;">
        <div style="text-align:center; margin-bottom:60px;">
            <h1
                style="font-size:4rem; font-weight:900; margin-bottom:20px; text-transform:uppercase; color:#fff; text-shadow:0 0 30px rgba(0,210,255,0.5);">
                Meu Match<br>Eleitoral</h1>
            <p style="font-size:2.2rem; font-weight:300; opacity:0.9;">Com quem meus votos combinam?</p>
        </div>

        <div id="share-list" style="width:100%; display:flex; flex-direction:column; gap:50px; flex:1;">
            <!-- JS will populate Top 3 here -->
        </div>

        <div
            style="margin-top:auto; text-align:center; border-top:2px solid rgba(255,255,255,0.2); padding-top:60px; width:100%;">
            <p style="font-size:2rem; margin-bottom:15px;">Fa√ßa o teste agora:</p>
            <h2 style="font-size:3rem; color:#00d2ff; font-weight:800;">matcheleitoral.netlify.app</h2>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="app.js"></script>
</body>

</html>
